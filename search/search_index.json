{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome \u00b6 This is just a collection of my references on various topics. Current docs include: Containers Kubernetes Performance Distributed Systems Golang Git","title":"Home"},{"location":"#welcome","text":"This is just a collection of my references on various topics. Current docs include: Containers Kubernetes Performance Distributed Systems Golang Git","title":"Welcome"},{"location":"containers/","text":"Containers \u00b6 Basics \u00b6 Cgroups, namespaces, and beyond: what are containers made from? : Dec 3, 2015, J\u00e9r\u00f4me Petazzoni Everything You Need to Know about Linux Containers, Part I: Linux Control Groups and Process Isolation : 2018, Linuxjournal Understanding Linux Container Scheduling : 2017, Squarespace Engineering blog Relevant Specs \u00b6 OS Related \u00b6 CFS scheduler design CFS Bandwidth Control Docker Related \u00b6 Docker Image Specification v1.0.0 Swarm \u00b6 Docker 1.12 Swarm Mode Deep Dive Part 1: Topology : Jul 28, 2016 Docker 1.12 Swarm Mode Deep Dive Part 2: Orchestration : Jul 28, 2016 Books \u00b6 The Docker book Docker Deep Dive","title":"Containers"},{"location":"containers/#containers","text":"","title":"Containers"},{"location":"containers/#basics","text":"Cgroups, namespaces, and beyond: what are containers made from? : Dec 3, 2015, J\u00e9r\u00f4me Petazzoni Everything You Need to Know about Linux Containers, Part I: Linux Control Groups and Process Isolation : 2018, Linuxjournal Understanding Linux Container Scheduling : 2017, Squarespace Engineering blog","title":"Basics"},{"location":"containers/#relevant-specs","text":"","title":"Relevant Specs"},{"location":"containers/#os-related","text":"CFS scheduler design CFS Bandwidth Control","title":"OS Related"},{"location":"containers/#docker-related","text":"Docker Image Specification v1.0.0","title":"Docker Related"},{"location":"containers/#swarm","text":"Docker 1.12 Swarm Mode Deep Dive Part 1: Topology : Jul 28, 2016 Docker 1.12 Swarm Mode Deep Dive Part 2: Orchestration : Jul 28, 2016","title":"Swarm"},{"location":"containers/#books","text":"The Docker book Docker Deep Dive","title":"Books"},{"location":"distributed_systems/","text":"Distributed Systems \u00b6 Clocks \u00b6 Time, Clocks, and the Ordering of Events in a Distributed System : Leslie Lamport's 1978 paper on ordering of events in a distributed system. Distributed Systems: Physical, Logical, and Vector Clocks : Nice post by Joe Honour explaining logical and vector clocks CAP Theorem \u00b6 Towards Robust Distributed Systems : Eric Brewer's original paper on CAP theorem. Brewer's Conjecture and the Feasibility of Consistent, Available, Partition-Tolerant Web Services : Gilbert and Lynch's proof of the CAP theorem DBMS Musings: Problems with CAP, and Yahoo\u2019s little known NoSQL system : Daniel Abadi's post about how to use PASELC instead of CAP to understand the tradeoffs in design. A paper/article on this is available here as well . Please stop calling databases CP or AP : Martin Kleppmann's post critiquing the CAP theorem. This post has a good section on explaining linearizable consistency. CAP Theorem: You don\u2019t need CP, you don\u2019t want AP, and you can\u2019t have CA : A really good talk by Siddhartha Reddy introducing CAP and PASELC Consistency models \u00b6 Strong consistency models : Excellent post by Kyle Kingsbury about various consistency models. Linearizability: A Correctness Condition for Concurrent Objects : Paper on Linearizable consistency Consistency in Non-Transactional Distributed Storage Systems : A paper covering all kinds of consistency models Icons used: : Paper : Youtube video : PDF file","title":"Distributed Systems"},{"location":"distributed_systems/#distributed-systems","text":"","title":"Distributed Systems"},{"location":"distributed_systems/#clocks","text":"Time, Clocks, and the Ordering of Events in a Distributed System : Leslie Lamport's 1978 paper on ordering of events in a distributed system. Distributed Systems: Physical, Logical, and Vector Clocks : Nice post by Joe Honour explaining logical and vector clocks","title":"Clocks"},{"location":"distributed_systems/#cap-theorem","text":"Towards Robust Distributed Systems : Eric Brewer's original paper on CAP theorem. Brewer's Conjecture and the Feasibility of Consistent, Available, Partition-Tolerant Web Services : Gilbert and Lynch's proof of the CAP theorem DBMS Musings: Problems with CAP, and Yahoo\u2019s little known NoSQL system : Daniel Abadi's post about how to use PASELC instead of CAP to understand the tradeoffs in design. A paper/article on this is available here as well . Please stop calling databases CP or AP : Martin Kleppmann's post critiquing the CAP theorem. This post has a good section on explaining linearizable consistency. CAP Theorem: You don\u2019t need CP, you don\u2019t want AP, and you can\u2019t have CA : A really good talk by Siddhartha Reddy introducing CAP and PASELC","title":"CAP Theorem"},{"location":"distributed_systems/#consistency-models","text":"Strong consistency models : Excellent post by Kyle Kingsbury about various consistency models. Linearizability: A Correctness Condition for Concurrent Objects : Paper on Linearizable consistency Consistency in Non-Transactional Distributed Storage Systems : A paper covering all kinds of consistency models Icons used: : Paper : Youtube video : PDF file","title":"Consistency models"},{"location":"gcloud/","text":"gcloud runbook \u00b6 CLI commands I found useful while working with GCP projects. General \u00b6 Fetch list of projects accessible by the user id \u00b6 $ gcloud projects list --filter \"PROJECT_ID:*k8s*\" PROJECT_ID NAME PROJECT_NUMBER sb-gcp-k8s sb-gcp-k8s 123456789012 Create and download keys for a service account \u00b6 $ SVC_ACCT = \"reader@PROJECT_NAME.iam.gserviceaccount.com\" $ gcloud --project PROJECT_NAME iam service-accounts keys create --iam-account = \" ${ SVC_ACCT } \" \" ${ SVC_ACCT } .json\" ... List SSH keys added to project \u00b6 gcloud --project PROJECT_NAME compute project-info describe \\ | yq e '.commonInstanceMetadata.items[]|select(.key==\"ssh-keys\")|.value' Adding SSH keys to a project \u00b6 You need to download the list from the previous commands to a file, edit it for adding/modifying/deleting keys, and then add the new file back using: gcloud --project PROJECT_NAME compute project-info add-metadata --metadata-from-file ssh-keys = PATH_TO_FILE Reference Logging \u00b6 Search for logs for an operation \u00b6 Use the operation ID to look up the start ( operation.first==true ) or end ( operation.last==true ) of the operation, gcloud logging read --format = json 'operation.id=\"operation-162871234567-45678\"' \\ | jq '.[] | { operation, timestamp, \\ request: .protoPayload.request, \\ response: .protoPayload.response, \\ metadata: .protoPayload.metadata}' Kubernetes \u00b6 List kubernetes clusters in your project \u00b6 $ gcloud --project PROJECT_NAME container clusters list NAME LOCATION MASTER_VERSION MASTER_IP MACHINE_TYPE NODE_VERSION NUM_NODES STATUS cluster-a us-central1 1.20.9-gke.1001 10.100.100.100 n1-standard-32 1.20.9-gke.701 * 5 RUNNING * - There is an upgrade available for your cluster(s). Describe Master Control plane \u00b6 gcloud container clusters describe \"cluster-a\" \\ --project PROJECT_NAME \\ --region \"us-east4\" --format \"json\" \\ | jq '{currentMasterVersion, releaseChannel, notificationConfig}' { \"currentMasterVersion\" : \"1.20.8-gke.900\" , \"releaseChannel\" : { \"channel\" : \"REGULAR\" }, \"notificationConfig\" : { \"pubsub\" : { \"enabled\" : true , \"topic\" : \"projects/PROJECT_NAME/topics/upgrade-notifications\" } } } View Nodepools \u00b6 $ gcloud container node-pools list --cluster cluster-a --project PROJECT_NAME NAME MACHINE_TYPE DISK_SIZE_GB NODE_VERSION ingress n1-standard-16 100 1.20.8-gke.900 egress n2-standard-8 110 1.20.8-gke.900 main-node-pool n2-standard-32 300 1.20.8-gke.900","title":"Gcloud Runbook"},{"location":"gcloud/#gcloud-runbook","text":"CLI commands I found useful while working with GCP projects.","title":"gcloud runbook"},{"location":"gcloud/#general","text":"","title":"General"},{"location":"gcloud/#fetch-list-of-projects-accessible-by-the-user-id","text":"$ gcloud projects list --filter \"PROJECT_ID:*k8s*\" PROJECT_ID NAME PROJECT_NUMBER sb-gcp-k8s sb-gcp-k8s 123456789012","title":"Fetch list of projects accessible by the user id"},{"location":"gcloud/#create-and-download-keys-for-a-service-account","text":"$ SVC_ACCT = \"reader@PROJECT_NAME.iam.gserviceaccount.com\" $ gcloud --project PROJECT_NAME iam service-accounts keys create --iam-account = \" ${ SVC_ACCT } \" \" ${ SVC_ACCT } .json\" ...","title":"Create and download keys for a service account"},{"location":"gcloud/#list-ssh-keys-added-to-project","text":"gcloud --project PROJECT_NAME compute project-info describe \\ | yq e '.commonInstanceMetadata.items[]|select(.key==\"ssh-keys\")|.value'","title":"List SSH keys added to project"},{"location":"gcloud/#adding-ssh-keys-to-a-project","text":"You need to download the list from the previous commands to a file, edit it for adding/modifying/deleting keys, and then add the new file back using: gcloud --project PROJECT_NAME compute project-info add-metadata --metadata-from-file ssh-keys = PATH_TO_FILE Reference","title":"Adding SSH keys to a project"},{"location":"gcloud/#logging","text":"","title":"Logging"},{"location":"gcloud/#search-for-logs-for-an-operation","text":"Use the operation ID to look up the start ( operation.first==true ) or end ( operation.last==true ) of the operation, gcloud logging read --format = json 'operation.id=\"operation-162871234567-45678\"' \\ | jq '.[] | { operation, timestamp, \\ request: .protoPayload.request, \\ response: .protoPayload.response, \\ metadata: .protoPayload.metadata}'","title":"Search for logs for an operation"},{"location":"gcloud/#kubernetes","text":"","title":"Kubernetes"},{"location":"gcloud/#list-kubernetes-clusters-in-your-project","text":"$ gcloud --project PROJECT_NAME container clusters list NAME LOCATION MASTER_VERSION MASTER_IP MACHINE_TYPE NODE_VERSION NUM_NODES STATUS cluster-a us-central1 1.20.9-gke.1001 10.100.100.100 n1-standard-32 1.20.9-gke.701 * 5 RUNNING * - There is an upgrade available for your cluster(s).","title":"List kubernetes clusters in your project"},{"location":"gcloud/#describe-master-control-plane","text":"gcloud container clusters describe \"cluster-a\" \\ --project PROJECT_NAME \\ --region \"us-east4\" --format \"json\" \\ | jq '{currentMasterVersion, releaseChannel, notificationConfig}' { \"currentMasterVersion\" : \"1.20.8-gke.900\" , \"releaseChannel\" : { \"channel\" : \"REGULAR\" }, \"notificationConfig\" : { \"pubsub\" : { \"enabled\" : true , \"topic\" : \"projects/PROJECT_NAME/topics/upgrade-notifications\" } } }","title":"Describe Master Control plane"},{"location":"gcloud/#view-nodepools","text":"$ gcloud container node-pools list --cluster cluster-a --project PROJECT_NAME NAME MACHINE_TYPE DISK_SIZE_GB NODE_VERSION ingress n1-standard-16 100 1.20.8-gke.900 egress n2-standard-8 110 1.20.8-gke.900 main-node-pool n2-standard-32 300 1.20.8-gke.900","title":"View Nodepools"},{"location":"git/","text":"Git \u00b6 References \u00b6 Using Git submodules : No matter how less I want to use Git modules, I seem to need them all the time. Most of the time, whenever I use a program like Hugo which has external extensions, I end up needing submodules. Common procedures \u00b6 Remove a Submodule within git : Adding a submodule is easy, removing is such a pain","title":"Git"},{"location":"git/#git","text":"","title":"Git"},{"location":"git/#references","text":"Using Git submodules : No matter how less I want to use Git modules, I seem to need them all the time. Most of the time, whenever I use a program like Hugo which has external extensions, I end up needing submodules.","title":"References"},{"location":"git/#common-procedures","text":"Remove a Submodule within git : Adding a submodule is easy, removing is such a pain","title":"Common procedures"},{"location":"golang/","text":"Golang \u00b6 Language features and implementation details \u00b6 Working with Errors in Go 1.13 : How to wrap errors, and best practices for wrapping (or not wrapping) errors. Inside the Map Implementation : By Keith Randall at GopherCon 2016. Best practices \u00b6 Gophers, please tag your releases (Dave Cheney) - Tag your releases in preparation for better dependency tools coming in the future ( 2016-06-24 ) Idiomatic Go tricks - Mat Ryer , 2016-09-09, companion blog post Implementation articles \u00b6 Error handling in Upspin : An interesting article by the legendary Rob Pike about how to use custom error types to provide more meaningful messages in an app with many components. Videos \u00b6 Testing and Benchmarking in Go Workshop - Gopher Guides , 2017-11-30 Important third party libraries \u00b6 GORM : A popular Go ORM . Very well written usage documentation. CLI (Command line libraries): urfave CLI : Formerly codegangsta/cli . Man page like extensive help formatting. Cobra : Integrates with Viper , a config management library. Also uses pflag , a more posix compliant flag library than the standard library one.","title":"Golang"},{"location":"golang/#golang","text":"","title":"Golang"},{"location":"golang/#language-features-and-implementation-details","text":"Working with Errors in Go 1.13 : How to wrap errors, and best practices for wrapping (or not wrapping) errors. Inside the Map Implementation : By Keith Randall at GopherCon 2016.","title":"Language features and implementation details"},{"location":"golang/#best-practices","text":"Gophers, please tag your releases (Dave Cheney) - Tag your releases in preparation for better dependency tools coming in the future ( 2016-06-24 ) Idiomatic Go tricks - Mat Ryer , 2016-09-09, companion blog post","title":"Best practices"},{"location":"golang/#implementation-articles","text":"Error handling in Upspin : An interesting article by the legendary Rob Pike about how to use custom error types to provide more meaningful messages in an app with many components.","title":"Implementation articles"},{"location":"golang/#videos","text":"Testing and Benchmarking in Go Workshop - Gopher Guides , 2017-11-30","title":"Videos"},{"location":"golang/#important-third-party-libraries","text":"GORM : A popular Go ORM . Very well written usage documentation. CLI (Command line libraries): urfave CLI : Formerly codegangsta/cli . Man page like extensive help formatting. Cobra : Integrates with Viper , a config management library. Also uses pflag , a more posix compliant flag library than the standard library one.","title":"Important third party libraries"},{"location":"kubernetes/","text":"Kubernetes \u00b6 Writing controllers \u00b6 Writing Kube Controllers for Everyone - Maciej Szulik, Red Hat (Beginner Skill Level) : Nice summary, with some guidelines on writing controllers at the end. Misc \u00b6 Kubernetes Failure Stories : A compiled list of links to public failure stories related to Kubernetes.","title":"Kubernetes"},{"location":"kubernetes/#kubernetes","text":"","title":"Kubernetes"},{"location":"kubernetes/#writing-controllers","text":"Writing Kube Controllers for Everyone - Maciej Szulik, Red Hat (Beginner Skill Level) : Nice summary, with some guidelines on writing controllers at the end.","title":"Writing controllers"},{"location":"kubernetes/#misc","text":"Kubernetes Failure Stories : A compiled list of links to public failure stories related to Kubernetes.","title":"Misc"},{"location":"linux_ubuntu/","text":"Linux / Ubuntu Notes and Runbooks \u00b6 I have been primarily using Ubuntu in my personal systems and RHEL at my work. These Linux \u00b6 Ubuntu \u00b6 Restore original config files for a package \u00b6 When I have mucked up the config file for a package and need to restore it to its pristine self. $ sudo apt-get --reinstall -o Dpkg::Options:: = \"--force-confask\" install rsyslog ... Preparing to unpack .../rsyslog_8.2001.0-1ubuntu1.1_amd64.deb ... Unpacking rsyslog (8.2001.0-1ubuntu1.1) over (8.2001.0-1ubuntu1.1) ... Setting up rsyslog (8.2001.0-1ubuntu1.1) ... Configuration file '/etc/rsyslog.conf' ==> Modified (by you or by a script) since installation. Version in package is the same as at last installation. What would you like to do about it ? Your options are: Y or I : install the package maintainer's version N or O : keep your currently-installed version D : show the differences between the versions Z : start a shell to examine the situation The default action is to keep your current version. *** rsyslog.conf (Y/I/N/O/D/Z) [default=N] ? y Installing new version of config file /etc/rsyslog.conf ... ...","title":"Linux/Ubuntu"},{"location":"linux_ubuntu/#linux-ubuntu-notes-and-runbooks","text":"I have been primarily using Ubuntu in my personal systems and RHEL at my work. These","title":"Linux / Ubuntu Notes and Runbooks"},{"location":"linux_ubuntu/#linux","text":"","title":"Linux"},{"location":"linux_ubuntu/#ubuntu","text":"","title":"Ubuntu"},{"location":"linux_ubuntu/#restore-original-config-files-for-a-package","text":"When I have mucked up the config file for a package and need to restore it to its pristine self. $ sudo apt-get --reinstall -o Dpkg::Options:: = \"--force-confask\" install rsyslog ... Preparing to unpack .../rsyslog_8.2001.0-1ubuntu1.1_amd64.deb ... Unpacking rsyslog (8.2001.0-1ubuntu1.1) over (8.2001.0-1ubuntu1.1) ... Setting up rsyslog (8.2001.0-1ubuntu1.1) ... Configuration file '/etc/rsyslog.conf' ==> Modified (by you or by a script) since installation. Version in package is the same as at last installation. What would you like to do about it ? Your options are: Y or I : install the package maintainer's version N or O : keep your currently-installed version D : show the differences between the versions Z : start a shell to examine the situation The default action is to keep your current version. *** rsyslog.conf (Y/I/N/O/D/Z) [default=N] ? y Installing new version of config file /etc/rsyslog.conf ... ...","title":"Restore original config files for a package"},{"location":"performance/","text":"Performance \u00b6 One of the best websites to look for performance related information is Brendan Gregg . Here are all this Linux Perf related resources. Theory \u00b6 The USE Method The Utilization Saturation and Errors (USE) Method is a methodology for analyzing the performance of any system. It directs the construction of a checklist, which for server analysis can be used for quickly identifying resource bottlenecks or errors. It begins by posing questions, and then seeks answers, instead of beginning with given metrics (partial answers) and trying to work backwards.","title":"Performance"},{"location":"performance/#performance","text":"One of the best websites to look for performance related information is Brendan Gregg . Here are all this Linux Perf related resources.","title":"Performance"},{"location":"performance/#theory","text":"The USE Method The Utilization Saturation and Errors (USE) Method is a methodology for analyzing the performance of any system. It directs the construction of a checklist, which for server analysis can be used for quickly identifying resource bottlenecks or errors. It begins by posing questions, and then seeks answers, instead of beginning with given metrics (partial answers) and trying to work backwards.","title":"Theory"}]}